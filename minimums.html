<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>USAF PT Minimums</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {font-family:Arial,Helvetica,sans-serif;margin:0;padding:0 1rem;background:#f2f2f2;}
.wrapper {max-width:900px;margin:2rem auto;background:#fff;padding:1.5rem;
border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.15);}
h1 {text-align:center;margin-bottom:1rem;}
.controls {display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:2rem;}
label {font-weight:600;display:flex;flex-direction:column;}
select,input {
padding:.6rem;font-size:1rem;border:1px solid #999;border-radius:4px;
}
.cards {display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem;}
.card {
border:2px solid #005A9C;
border-radius:6px;
padding:1rem;
background:#fafafa;
}
.card h2 {margin-top:0;color:#005A9C;font-size:1.1rem;}
.value {font-weight:bold;font-size:1.05rem;}
.note {font-size:.9rem;color:#555;margin-top:.5rem;}
</style>
</head>

<body>
<div class="wrapper">
<h1>USAF PT Minimums to Reach 75</h1>

<div class="controls">
  <label>Gender
    <select id="gender">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
  </label>

  <label>Age
    <input type="number" id="age" min="17" max="80" value="25">
  </label>

  <label>Cardio
    <select id="cardio">
      <option value="run">2-Mile Run</option>
      <option value="hamr">HAMR</option>
    </select>
  </label>
</div>

<div class="cards">
  <div class="card" id="card-upper"></div>
  <div class="card" id="card-core"></div>
  <div class="card" id="card-cardio"></div>
</div>
</div>

<script>
/* ==========================================================
   PT DATA
   (Use SAME object as your calculator — truncated here)
   ========================================================== */
const PT_DATA = /* PASTE YOUR FULL PT_DATA OBJECT HERE */;

/* ==========================================================
   HELPERS
   ========================================================== */

function getAgeBracket(age) {
  if (age < 25) return "<25";
  if (age < 30) return "25-29";
  if (age < 35) return "30-34";
  if (age < 40) return "35-39";
  if (age < 45) return "40-44";
  if (age < 50) return "45-49";
  if (age < 55) return "50-54";
  if (age < 60) return "55-59";
  return "60+";
}

function sortedEntries(obj, asc=true) {
  return Object.entries(obj).sort((a,b)=> asc ? a[1]-b[1] : b[1]-a[1]);
}

function findMinimum(componentData, neededPoints) {
  const sorted = sortedEntries(componentData, true);
  for (const [value, pts] of sorted) {
    if (pts >= neededPoints) return { value, pts };
  }
  return null;
}

/* ==========================================================
   MAIN LOGIC
   ========================================================== */

function calculate() {
  const gender = gender.value;
  const age = parseInt(document.getElementById("age").value);
  const cardioType = document.getElementById("cardio").value;
  const bracket = getAgeBracket(age);
  const data = PT_DATA[gender][bracket];

  const MAX = 15;
  const TARGET = 75;

  // 1️⃣ Max Upper
  const needUpper = TARGET - MAX;
  const run1 = findMinimum(data[cardioType], needUpper/2);
  const core1 = findMinimum(data.situps, needUpper/2);

  document.getElementById("card-upper").innerHTML = `
    <h2>Max Push-ups (15 pts)</h2>
    <div class="value">Run: ${run1.value} (${run1.pts} pts)</div>
    <div class="value">Core: ${core1.value} reps (${core1.pts} pts)</div>
    <div class="note">Balanced minimums to hit 75</div>
  `;

  // 2️⃣ Max Core
  const needCore = TARGET - MAX;
  const run2 = findMinimum(data[cardioType], needCore/2);
  const upper2 = findMinimum(data.pushups, needCore/2);

  document.getElementById("card-core").innerHTML = `
    <h2>Max Core (15 pts)</h2>
    <div class="value">Run: ${run2.value} (${run2.pts} pts)</div>
    <div class="value">Push-ups: ${upper2.value} (${upper2.pts} pts)</div>
    <div class="note">Most forgiving for runners</div>
  `;

  // 3️⃣ Max Cardio
  const needCardio = TARGET - MAX;
  const upper3 = findMinimum(data.pushups, needCardio/2);
  const core3 = findMinimum(data.situps, needCardio/2);

  document.getElementById("card-cardio").innerHTML = `
    <h2>Max ${cardioType === "run" ? "Run" : "HAMR"} (50 pts)</h2>
    <div class="value">Push-ups: ${upper3.value} (${upper3.pts} pts)</div>
    <div class="value">Core: ${core3.value} reps (${core3.pts} pts)</div>
    <div class="note">Safest route for strong runners</div>
  `;
}

document.querySelectorAll("select,input").forEach(el=>{
  el.addEventListener("change", calculate);
});

calculate();
</script>
</body>
</html>
